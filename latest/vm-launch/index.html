<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">  
    <link rel="canonical" href="http://hortonworks.github.io/cloudbreak-documentation/vm-launch/index.html"> 
    <link rel="shortcut icon" href="../images/favicon.png">

    <title>Install on Your Own VM - Cloudbreak</title>

    <link href="../css/bootstrap-custom.min.css" rel="stylesheet">
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/font-hack/2.018/css/hack.min.css">
    <link href='//fonts.googleapis.com/css?family=PT+Sans:400,400italic,700,700italic&subset=latin-ext,latin' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,700italic,400,300,600,700&subset=latin-ext,latin' rel='stylesheet' type='text/css'>
    <link href="../css/base.css" rel="stylesheet">
    <link href="../css/cinder.css" rel="stylesheet">
    <link rel="stylesheet" href="../css/highlight.css">


    <link href="../css/extra.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

    <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.5.18/webfont.js"></script>
    <script>
    WebFont.load({
        google: {
            families: ['Open Sans', 'PT Sans']
        }
    });
    </script>

    
    <script>
    (function(i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r;
        i[r] = i[r] || function() {
            (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date();
        a = s.createElement(o),
        m = s.getElementsByTagName(o)[0];
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

    ga('create', 'UA-22950817-24', 'auto');
    ga('send', 'pageview');
    </script>
    
</head>

<body>

    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->
            <a class="navbar-brand" href="../index.html">Cloudbreak</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Get Started <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../index.html">Introduction</a>
</li>

                        
                            
<li >
    <a href="../architecture/index.html">Architecture</a>
</li>

                        
                            
<li >
    <a href="../releasenotes/index.html">Release Notes</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">AWS <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../aws-launch/index.html">Launch on AWS</a>
</li>

                        
                            
<li >
    <a href="../aws-create/index.html">Create a Cluster</a>
</li>

                        
                            
<li >
    <a href="../aws-clusters-access/index.html">Access Cluster</a>
</li>

                        
                            
<li >
    <a href="../aws-data/index.html">Access Data on S3</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Azure <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../azure-launch/index.html">Launch on Azure</a>
</li>

                        
                            
<li >
    <a href="../azure-create/index.html">Create a Cluster</a>
</li>

                        
                            
<li >
    <a href="../azure-clusters-access/index.html">Access Cluster</a>
</li>

                        
                            
<li >
    <a href="../azure-data/index.html">Access Data on Azure</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">GCP <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../gcp-launch/index.html">Launch on GCP</a>
</li>

                        
                            
<li >
    <a href="../gcp-create/index.html">Create a Cluster</a>
</li>

                        
                            
<li >
    <a href="../gcp-clusters-access/index.html">Access Cluster</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">OpenStack <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../os-launch/index.html">Launch on Open Stack</a>
</li>

                        
                            
<li >
    <a href="../os-create/index.html">Create a Cluster</a>
</li>

                        
                            
<li >
    <a href="../os-clusters-access/index.html">Access Cluster</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Config & Admin <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Cluster Options</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../blueprints/index.html">Blueprints</a>
</li>

        
            
<li >
    <a href="../recipes/index.html">Recipes</a>
</li>

        
            
<li >
    <a href="../tags/index.html">Resource Tagging</a>
</li>

        
            
<li >
    <a href="../images/index.html">Custom Images</a>
</li>

        
            
<li >
    <a href="../ambari-db/index.html">Ambari Database</a>
</li>

        
    </ul>
  </li>

                        
                            
<li >
    <a href="../clusters-manage/index.html">Manage and Monitor Clusters</a>
</li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Managing Cloudbreak</a>
    <ul class="dropdown-menu">
        
            
<li class="active">
    <a href="index.html">Install on Your Own VM</a>
</li>

        
            
<li >
    <a href="../credentials/index.html">Manage Cloudbreak Credentials</a>
</li>

        
            
<li >
    <a href="../upgrade/index.html">Upgrade Clodbreak</a>
</li>

        
            
<li >
    <a href="../delete/index.html">Delete Cloudbreak</a>
</li>

        
            
<li >
    <a href="../profile/index.html">Configure Cloudbreak</a>
</li>

        
            
<li >
    <a href="../cb-db/index.html">Manage Cloudbreak Database</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Security</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../security/index.html">Security Overview</a>
</li>

        
            
<li >
    <a href="../security-cb/index.html">Configure Basic Security</a>
</li>

        
            
<li >
    <a href="../security-kerberos/index.html">Configure Kerberos</a>
</li>

        
    </ul>
  </li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">More <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../cli/index.html">CLI</a>
</li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Developer</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../dev/index.html">Developer Docs</a>
</li>

        
            
<li >
    <a href="../dev-spi/index.html">Cloudbreak SPI</a>
</li>

        
            
<li >
    <a href="../dev-api/index.html">Cloudbreak APIs</a>
</li>

        
            
<li >
    <a href="../dev-flows/index.html">Flow Diagrams</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Troubleshooting</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../trouble-cb/index.html">General Troubleshooting</a>
</li>

        
            
<li >
    <a href="../trouble-aws/index.html">Troubleshooting AWS</a>
</li>

        
            
<li >
    <a href="../trouble-azure/index.html">Troubleshooting Azure</a>
</li>

        
            
<li >
    <a href="../trouble-gcp/index.html">Troubleshooting GCP</a>
</li>

        
            
<li >
    <a href="../trouble-os/index.html">Troubleshooting OpenStack</a>
</li>

        
    </ul>
  </li>

                        
                            
<li >
    <a href="../faq/index.html">FAQs</a>
</li>

                        
                            
<li >
    <a href="../get-help/index.html">Getting Help</a>
</li>

                        
                            
<li >
    <a href="../smartsense/index.html">SmartSense</a>
</li>

                        
                        </ul>
                    </li>
                
                
                </ul>
            

            <ul class="nav navbar-nav navbar-right">
                
                    <li >
                        <a rel="next" href="../clusters-manage/index.html">
                            <i class="fa fa-arrow-left"></i> Previous
                        </a>
                    </li>
                    <li >
                        <a rel="prev" href="../credentials/index.html">
                            Next <i class="fa fa-arrow-right"></i>
                        </a>
                    </li>
                
                
                    <li>
                        <a href="https://github.com/hortonworks/cloudbreak-documentation">
                            
                                <i class="fa fa-github"></i>
                            
                            GitHub
                        </a>
                    </li>
                
            </ul>
        </div>
    </div>
</div>

    <div class="container">
        
        <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="first-level active"><a href="#install-cloudbreak-in-your-own-vm">Install Cloudbreak in Your Own VM</a></li>
        
            <li class="second-level"><a href="#system-requirements">System Requirements</a></li>
            
        
            <li class="second-level"><a href="#prerequisites">Prerequisites</a></li>
            
                <li class="third-level"><a href="#ports">Ports</a></li>
            
                <li class="third-level"><a href="#root-access">Root Access</a></li>
            
                <li class="third-level"><a href="#system-updates">System Updates</a></li>
            
                <li class="third-level"><a href="#iptables">Iptables</a></li>
            
        
            <li class="second-level"><a href="#install-cloudbreak-on-your-own-vm">Install Cloudbreak on Your Own VM</a></li>
            
        
            <li class="second-level"><a href="#troubleshooting">Troubleshooting</a></li>
            
                <li class="third-level"><a href="#cbd-cannot-get-vms-public-ip">Cbd Cannot Get VM's Public IP</a></li>
            
                <li class="third-level"><a href="#permission-or-connection-problems">Permission or Connection Problems</a></li>
            
        
            <li class="second-level"><a href="#next-steps">Next Steps</a></li>
            
        
    
    </ul>
</div></div>
        <div class="col-md-9" role="main">

<h2 id="install-cloudbreak-in-your-own-vm">Install Cloudbreak in Your Own VM</h2>
<p>This is an advanced deployment option. Select this option if you have custom VM requirements. Otherwise, you should use one of the pre-built images and follow these instructions:</p>
<ul>
<li><a href="../aws-launch/index.html">Launch on AWS</a>  </li>
<li><a href="../azure-launch/index.html">Launch on Azure</a>  </li>
<li><a href="../gcp-launch/index.html">Launch on GCP</a>  </li>
<li><a href="../os-launch/index.html">Launch on OpenStack</a>   </li>
</ul>
<h3 id="system-requirements">System Requirements</h3>
<p>To launch the Cloudbreak deployer and install the Cloudbreak application, your system must meet the following requirements:</p>
<ul>
<li>Minimum VM requirements: 8GB RAM, 10GB disk, 2 cores</li>
<li>Supported operating systems: RHEL, CentOS, and Oracle Linux 7 (64-bit)</li>
<li>Docker 1.9.1 must be installed </li>
</ul>
<blockquote>
<p>You can install Cloudbreak on Mac OS X for evaluation purposes only. Mac OS X is not supported for a production deployment of Cloudbreak.</p>
</blockquote>
<h3 id="prerequisites">Prerequisites</h3>
<p>To launch the Cloudbreak deployer and install the Cloudbreak application, you must first meet the following prerequisites:</p>
<h4 id="ports">Ports</h4>
<p>Ports 22 (SSH) and 443 (HTTPS) must be open.</p>
<h4 id="root-access">Root Access</h4>
<p>Every command must be executed as root. In order to get root privileges execute: </p>
<pre>sudo -i</pre>

<h4 id="system-updates">System Updates</h4>
<p>Ensure that your system is up-to-date by executing:</p>
<pre>yum -y update</pre>

<p>Reboot it if necessary.</p>
<h4 id="iptables">Iptables</h4>
<p>Install iptables-services:</p>
<pre>yum -y install iptables-services net-tools</pre>

<p>Without iptables-services installed the <code>iptables save</code> command will not be available.</p>
<p>Next, configure permissive iptables on your machine:</p>
<pre>
iptables --flush INPUT && \
iptables --flush FORWARD && \
service iptables save
</pre>

<h3 id="install-cloudbreak-on-your-own-vm">Install Cloudbreak on Your Own VM</h3>
<p>Install Cloudbreak using the following steps.</p>
<p><strong>Steps</strong></p>
<ol>
<li>
<p>Install the Cloudbreak deployer and unzip the platform-specific single binary to your PATH. For example:</p>
<p><pre>yum -y install unzip tar
curl -Ls s3.amazonaws.com/public-repo-1.hortonworks.com/HDP/cloudbreak/cloudbreak-deployer_1.16.1_$(uname)_x86_64.tgz | sudo tar -xz -C /bin cbd
cbd --version</pre></p>
<p>Once the Cloudbreak Deployer is installed, you can set up the Cloudbreak application.</p>
</li>
<li>
<p>Create a Cloudbreak deployment directory and navigate to it:</p>
<p><pre>mkdir cloudbreak-deployment
cd cloudbreak-deployment</pre></p>
</li>
<li>
<p>In the directory, create a file called <code>Profile</code> with the following content:</p>
<p><pre>export UAA_DEFAULT_SECRET=MY-SECRET
export UAA_DEFAULT_USER_PW=MY-PASSWORD</pre></p>
<p>For example:</p>
<p><pre>export UAA_DEFAULT_SECRET=MySecret123
export UAA_DEFAULT_USER_PW=MySecurePassword123</pre></p>
<blockquote>
<p>You will need to provide the password when logging in to the Cloudbreak web UI and when using the Cloudbreak Shell. The secret will be used by Cloudbreak for authentication.</p>
</blockquote>
</li>
<li>
<p>Generate configurations by executing:</p>
<p><pre>rm *.yml
cbd generate</pre>   </p>
<p>The cbd start command includes the cbd generate command which applies the following steps:</p>
<ul>
<li>Creates the <code>docker-compose.yml</code> file, which describes the configuration of all the Docker containers required for the Cloudbreak deployment.  </li>
<li>Creates the <code>uaa.yml</code> file, which holds the configuration of the identity server used to authenticate users with Cloudbreak.   </li>
</ul>
</li>
<li>
<p>Start the Cloudbreak application by using the following commands:</p>
<p><pre>cbd pull
cbd start</pre></p>
<p>This will start the Docker containers and initialize the application. The first time you start the Coudbreak app, the process will take longer than usual due to the download of all the necessary docker images.</p>
</li>
<li>
<p>Next, check Cloudbreak Application logs: </p>
<p><pre>cbd logs cloudbreak</pre></p>
<p>You should see a message like this in the log: <code>Started CloudbreakApplication in 36.823 seconds.</code> Cloudbreak normally takes less than a minute to start.</p>
</li>
</ol>
<h3 id="troubleshooting">Troubleshooting</h3>
<h4 id="cbd-cannot-get-vms-public-ip">Cbd Cannot Get VM's Public IP</h4>
<p>By default the <code>cbd</code> tool tries to get the VM's public IP to bind Cloudbreak UI to it. But if <code>cbd</code> cannot get the IP address during the initialization, you must set it manually. Check your <code>Profile</code> and if <code>PUBLIC_IP</code> is not set, add the <code>PUBLIC_IP</code> variable and set it to the public IP of the VM. For example: </p>
<pre>export PUBLIC_IP=192.134.23.10</pre>

<h4 id="permission-or-connection-problems">Permission or Connection Problems</h4>
<p>If you face permission or connection issues, disable SELinux:</p>
<ol>
<li>Set <code>SELINUX=disabled</code> in <code>/etc/selinux/config</code>.  </li>
<li>Reboot the machine.  </li>
<li>
<p>Ensure the SELinux is not turned on afterwards:</p>
<p><presetenforce 0 && sed -i 's/SELINUX=enforcing/SELINUX=disabled/g' /etc/ selinux/config</pre></p>
</li>
</ol>
<h3 id="next-steps">Next Steps</h3>
<p>Follow the platform-specific instructions. Make sure to review the prerequisites for creating a Cloudbreak credential and then log in to the Cloudbreak web UI and create a credential for Cloubdreak.</p>
<ul>
<li><a href="../aws-launch/index.html">Launch on AWS</a></li>
<li><a href="../azure-launch/index.html">Launch on Azure</a></li>
<li><a href="../gcp-launch/index.html">Launch on GCP</a></li>
<li><a href="../os-launch/index.html">Launch on OpenStack</a></li>
</ul></div>
        
    </div>

    <footer class="col-md-12 text-center">
        <hr>
        <p>
        <small>© 2011-2017 <a href="http://www.hortonworks.com" target="_blank">Hortonworks Inc</a>. All Rights Reserved. | <a href="http://hortonworks.com/privacy-policy/" target="_blank">Privacy Policy</a><br></small>
        
        <small>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p></small>
    </footer>

    <script src="../js/jquery-1.10.2.min.js"></script>
    <script src="../js/bootstrap-3.0.3.min.js"></script>
    <script src="../js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script>
    var base_url = '..';
    </script>
    <script data-main="../mkdocs/js/search.js" src="../mkdocs/js/require.js"></script>
    <script src="../js/base.js"></script>

    <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">
                        <span aria-hidden="true">&times;</span>
                        <span class="sr-only">Close</span>
                    </button>
                    <h4 class="modal-title" id="exampleModalLabel">Search</h4>
                </div>
                <div class="modal-body">
                    <p>
                        From here you can search these documents. Enter your search terms below.
                    </p>
                    <form role="form">
                        <div class="form-group">
                            <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                        </div>
                    </form>
                    <div id="mkdocs-search-results"></div>
                </div>
                <div class="modal-footer">
                </div>
            </div>
        </div>
    </div>

    </body>

</html>
