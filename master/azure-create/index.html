<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">  
    <link rel="canonical" href="http://hortonworks.github.io/cloudbreak-documentation/azure-create/index.html"> 
    <link rel="shortcut icon" href="../images/favicon.png">

    <title>Create a Cluster - Cloudbreak</title>

    <link href="../css/bootstrap-custom.min.css" rel="stylesheet">
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/font-hack/2.018/css/hack.min.css">
    <link href='//fonts.googleapis.com/css?family=PT+Sans:400,400italic,700,700italic&subset=latin-ext,latin' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,700italic,400,300,600,700&subset=latin-ext,latin' rel='stylesheet' type='text/css'>
    <link href="../css/base.css" rel="stylesheet">
    <link href="../css/cinder.css" rel="stylesheet">
    <link rel="stylesheet" href="../css/highlight.css">


    <link href="../css/extra.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

    <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.5.18/webfont.js"></script>
    <script>
    WebFont.load({
        google: {
            families: ['Open Sans', 'PT Sans']
        }
    });
    </script>

    
    <script>
    (function(i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r;
        i[r] = i[r] || function() {
            (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date();
        a = s.createElement(o),
        m = s.getElementsByTagName(o)[0];
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

    ga('create', 'UA-22950817-24', 'auto');
    ga('send', 'pageview');
    </script>
    
</head>

<body>

    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->
            <a class="navbar-brand" href="../index.html">Cloudbreak</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Get Started <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../index.html">Introduction</a>
</li>

                        
                            
<li >
    <a href="../architecture/index.html">Architecture</a>
</li>

                        
                            
<li >
    <a href="../releasenotes/index.html">Release Notes</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">AWS <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../aws-launch/index.html">Launch on AWS</a>
</li>

                        
                            
<li >
    <a href="../aws-create/index.html">Create a Cluster</a>
</li>

                        
                            
<li >
    <a href="../aws-clusters-access/index.html">Access Cluster</a>
</li>

                        
                            
<li >
    <a href="../aws-data/index.html">Access Data on S3</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Azure <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../azure-launch/index.html">Launch on Azure</a>
</li>

                        
                            
<li class="active">
    <a href="index.html">Create a Cluster</a>
</li>

                        
                            
<li >
    <a href="../azure-clusters-access/index.html">Access Cluster</a>
</li>

                        
                            
<li >
    <a href="../azure-data/index.html">Access Data on Azure</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">GCP <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../gcp-launch/index.html">Launch on GCP</a>
</li>

                        
                            
<li >
    <a href="../gcp-create/index.html">Create a Cluster</a>
</li>

                        
                            
<li >
    <a href="../gcp-clusters-access/index.html">Access Cluster</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">OpenStack <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../os-launch/index.html">Launch on Open Stack</a>
</li>

                        
                            
<li >
    <a href="../os-create/index.html">Create a Cluster</a>
</li>

                        
                            
<li >
    <a href="../os-clusters-access/index.html">Access Cluster</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Config & Admin <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Advanced Cluster Options</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../blueprints/index.html">Blueprints</a>
</li>

        
            
<li >
    <a href="../recipes/index.html">Recipes</a>
</li>

        
            
<li >
    <a href="../tags/index.html">Resource Tagging</a>
</li>

        
            
<li >
    <a href="../images/index.html">Custom Images</a>
</li>

        
            
<li >
    <a href="../ambari-db/index.html">Ambari Database</a>
</li>

        
    </ul>
  </li>

                        
                            
<li >
    <a href="../clusters-manage/index.html">Manage and Monitor Clusters</a>
</li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Managing Cloudbreak</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../vm-launch/index.html">Install on Your Own VM</a>
</li>

        
            
<li >
    <a href="../credentials/index.html">Manage Cloudbreak Credentials</a>
</li>

        
            
<li >
    <a href="../upgrade/index.html">Upgrade Clodbreak</a>
</li>

        
            
<li >
    <a href="../delete/index.html">Delete Cloudbreak</a>
</li>

        
            
<li >
    <a href="../profile/index.html">Configure Cloudbreak</a>
</li>

        
            
<li >
    <a href="../cb-db/index.html">Manage Cloudbreak Database</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Security</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../security/index.html">Security Overview</a>
</li>

        
            
<li >
    <a href="../security-cb/index.html">Configure Basic Security</a>
</li>

        
            
<li >
    <a href="../security-kerberos/index.html">Configure Kerberos</a>
</li>

        
    </ul>
  </li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">More <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../cli/index.html">CLI</a>
</li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Developer</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../dev/index.html">Developer Docs</a>
</li>

        
            
<li >
    <a href="../dev-spi/index.html">Cloudbreak SPI</a>
</li>

        
            
<li >
    <a href="../dev-api/index.html">Cloudbreak APIs</a>
</li>

        
            
<li >
    <a href="../dev-flows/index.html">Flow Diagrams</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Troubleshooting</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../trouble-cb/index.html">General Troubleshooting</a>
</li>

        
            
<li >
    <a href="../trouble-aws/index.html">Troubleshooting AWS</a>
</li>

        
            
<li >
    <a href="../trouble-azure/index.html">Troubleshooting Azure</a>
</li>

        
            
<li >
    <a href="../trouble-gcp/index.html">Troubleshooting GCP</a>
</li>

        
            
<li >
    <a href="../trouble-os/index.html">Troubleshooting OpenStack</a>
</li>

        
    </ul>
  </li>

                        
                            
<li >
    <a href="../faq/index.html">FAQs</a>
</li>

                        
                            
<li >
    <a href="../get-help/index.html">Getting Help</a>
</li>

                        
                            
<li >
    <a href="../smartsense/index.html">SmartSense</a>
</li>

                        
                        </ul>
                    </li>
                
                
                </ul>
            

            <ul class="nav navbar-nav navbar-right">
                
                    <li >
                        <a rel="next" href="../azure-launch/index.html">
                            <i class="fa fa-arrow-left"></i> Previous
                        </a>
                    </li>
                    <li >
                        <a rel="prev" href="../azure-clusters-access/index.html">
                            Next <i class="fa fa-arrow-right"></i>
                        </a>
                    </li>
                
                
                    <li>
                        <a href="https://github.com/hortonworks/cloudbreak-documentation">
                            
                                <i class="fa fa-github"></i>
                            
                            GitHub
                        </a>
                    </li>
                
            </ul>
        </div>
    </div>
</div>

    <div class="container">
        
        <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="first-level active"><a href="#create-a-cluster-on-azure">Create a Cluster on Azure</a></li>
        
            <li class="second-level"><a href="#advanced-options">Advanced Options</a></li>
            
                <li class="third-level"><a href="#general-configuration">General Configuration</a></li>
            
                <li class="third-level"><a href="#hardware-and-storage">Hardware and Storage</a></li>
            
                <li class="third-level"><a href="#filesystem">FileSystem</a></li>
            
                <li class="third-level"><a href="#network">Network</a></li>
            
                <li class="third-level"><a href="#security">Security</a></li>
            
        
    
    </ul>
</div></div>
        <div class="col-md-9" role="main">

<h2 id="create-a-cluster-on-azure">Create a Cluster on Azure</h2>
<p>Use these steps to create a cluster.</p>
<p><strong>Steps</strong></p>
<ol>
<li>
<p>Log in to the Cloudbreak UI.</p>
</li>
<li>
<p>Click <strong>Create Cluster</strong> and the <em>Create Cluster</em> form is displayed.</p>
</li>
<li>
<p>On the <strong>General Configuration</strong> page, specify the following general parameters for your cluster:</p>
<blockquote>
<p>To view advanced options, click <strong>Advanced</strong>. To learn about advanced options, refer to <a href="#advanced-options">Advanced Options</a>.</p>
</blockquote>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Select Credential</td>
<td>Choose a previously created credential.</td>
</tr>
<tr>
<td>Cluster Name</td>
<td>Enter a name for your cluster. The name must be between 5 and 40 characters, must start with a letter, and must only include lowercase letters, numbers, and hyphens.</td>
</tr>
<tr>
<td>Region</td>
<td>Select the region in which you would like to launch your cluster.</td>
</tr>
<tr>
<td>HDP Version</td>
<td>Choose the HDP version to use for this cluster.</td>
</tr>
<tr>
<td>Cluster Type</td>
<td>Choose one of default cluster configurations, or, if you have defined your own cluster configuration via Ambari blueprint, you can choose it here. For more information, refer to <a href="../blueprints/index.html">Blueprints</a>.</td>
</tr>
<tr>
<td>Enable Lifetime Management</td>
<td>Check this option if you would like your cluster to be automatically terminated after a specific amount of time (defined as "Time to Live" in minutes) has passed.</td>
</tr>
<tr>
<td>Tags</td>
<td>(Optional) You can optionally add tags, which will help you find your cluster-related resources, such as VMs, in your cloud provider account.</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>On the <strong>Hardware and Storage</strong> page, for each host group (master, worker, and compute) provide the following information to define your cluster nodes and attached storage:</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Instance Type</td>
<td>Select an instance type. For more information about instance types on Azure refer to <a href="https://docs.microsoft.com/en-us/azure/virtual-machines/linux/sizes-general">Azure documentation</a>.</td>
</tr>
<tr>
<td>Instance Count</td>
<td>Enter the number of instances of a given type. Default is 1.</td>
</tr>
<tr>
<td>Storage Type</td>
<td><p>Select the volume type. The options are:<ul><li>Locally-redundant storage</li><li>Geo-redundant storage</li><li>Premium locally-redundant storage</li></ul> For more information about these options refer to <a href="https://docs.microsoft.com/en-us/azure/storage/storage-introduction" target="_blank">Azure documentation</a>.</td>
</tr>
<tr>
<td>Attached Volumes Per Instance</td>
<td>Enter the number of volumes attached per instance. Default is 1.</td>
</tr>
<tr>
<td>Volume Size (GB)</td>
<td>Enter the size in GBs for each volume. Default is 100.</td>
</tr>
<tr>
<td>Ambari Server</td>
<td>You must select one node for Ambari Server. The "Group Size" for that host group must be set to "1".</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>On the <strong>File System</strong> page, select to use one of the following filesystems:</p>
<ul>
<li><em>Local HDFS</em>: No external storage outside of HDFS will be used.</li>
<li>
<p><em>Windows Azure Data Lake Storage</em>: If you select this option, HDFS will be used as your default file system and access to ADLS will be through the adl connector. You must provide:</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Data Lake Store account name</td>
<td>Enter your account name.</td>
</tr>
</tbody>
</table>
<p><strong>Postrequisites</strong>: After cluster installation, you must perform additional steps described in <a href="../azure-data/index.html#configuring-access-to-adls">Configuring Access to ADLS</a>. </p>
</li>
<li>
<p><em>Windows Azure Blob Storage</em>: If you select this option, HDFS will be used as your default file system and access to WASB will be through the wasb connector, unless you select <strong>Use File System As Default</strong>. You must provide:</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Storage Account Name</td>
<td>Enter your account name.</td>
</tr>
<tr>
<td>Storage Account Access Key</td>
<td>Enter your access key.</td>
</tr>
<tr>
<td>Use File System As Default</td>
<td>Select this option if you want to make WASB your default file system, instead of HDFS.</td>
</tr>
</tbody>
</table>
</li>
</ul>
<p>After selecting the filesystem, you can optionally configure the following advanced parameters:</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Attached Storage Type</td>
<td>Select <strong>single storage for all VMs</strong> or <strong>separate storage for every VM</strong>. Selecting single storage means that your whole cluster's OS disks will be placed in one storage account. Using separate storage for every VM will deploy as many storage accounts as the number of nodes in your cluster, avoiding the IOPS limit of a particular storage account.</td>
</tr>
<tr>
<td>Persistent Storage Name</td>
<td>Enter a name for the persistent storage directory. Default is <strong>cbstore</strong>.</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>On the <strong>Network</strong> page, provide the following to specify the networking resources that will be used for your cluster:</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Select Network</td>
<td>Select the virtual network in which you would like your cluster to be provisioned. You can select an existing network or create a new network.</td>
</tr>
<tr>
<td>Select Subnet</td>
<td>Select the subnet in which you would like your cluster to be provisioned. You can select an existing subnet or create a new subnet.</td>
</tr>
<tr>
<td>Subnet (CIDR)</td>
<td>If you selected to create a new subnet, you must define a valid <a href="http://www.ipaddressguide.com/cidr">CIDR</a> for the subnet. Default is 10.0.0.0/16.</td>
</tr>
<tr>
<td>Security Group</td>
<td><p>For each host group, select one of the options:<ul><li>Create new security group</li><li>Do not use security group</li>&lt;.li&gt;Select an existing security group</li></ul></p></td>
</tr>
</tbody>
</table>
<p>If you choose to create a new security group, the <em>New Security Group</em> wizard will open.</p>
<ol>
<li>TCP ports 22, 443, and 9443 will be open by default. </li>
</ol>
<blockquote>
<p>These ports must be open on every security group; otherwise Cloudbreak will not be able to communicate with your provisioned cluster.</p>
</blockquote>
<ol>
<li>You may open additional ports by defining the <strong>CIDR</strong>, <strong>Port</strong>, and <strong>Protocol</strong> for each and clicking <strong>Add Rule</strong>. </li>
<li>Once done, click <strong>SAVE</strong> to save your security group settings.</li>
<li>Once you define a custom security group for one host group, you can reuse this definition for other node groups.</li>
</ol>
</li>
<li>
<p>On the <strong>Security</strong> page, provide the following parameters:</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Cluster User</td>
<td>You can log in to the Ambari UI using this username. By default, this is set to <code>admin</code>.</td>
</tr>
<tr>
<td>Password</td>
<td>You can log in to the Ambari UI using this password.</td>
</tr>
<tr>
<td>Confirm Password</td>
<td>Confirm the password.</td>
</tr>
<tr>
<td>SSH Key Pair</td>
<td>Specify a public SSH key. You will use the matching private key to access your cluster nodes via SSH.</td>
</tr>
<tr>
<td>Enable Kerberos Security</td>
<td>(Optional) Select this option to enable Kerberos for your cluster. You will have an option to create a new kerberos or use an existing one. For more information refer to <a href="../security-kerberos/index.html">Kerberos</a> documentation.</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Click on <strong>Create Cluster</strong> to create a cluster.</p>
</li>
<li>
<p>You will be redirected to the Cloudbreak dashboard, and a new tile representing your cluster will appear at the top of the page.</p>
</li>
</ol>
<h3 id="advanced-options">Advanced Options</h3>
<p>Click on <strong>Advanced</strong> to view and enter additional configuration options.</p>
<h4 id="general-configuration">General Configuration</h4>
<h4 id="hardware-and-storage">Hardware and Storage</h4>
<h4 id="filesystem">FileSystem</h4>
<h4 id="network">Network</h4>
<h4 id="security">Security</h4>
<div class="next">
<a href="../azure-clusters-access/index.html">Next: Access Cluster</a>
</div></div>
        
    </div>

    <footer class="col-md-12 text-center">
        <hr>
        <p>
        <small>© 2011-2017 <a href="http://www.hortonworks.com" target="_blank">Hortonworks Inc</a>. All Rights Reserved. | <a href="http://hortonworks.com/privacy-policy/" target="_blank">Privacy Policy</a><br></small>
        
        <small>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p></small>
    </footer>

    <script src="../js/jquery-1.10.2.min.js"></script>
    <script src="../js/bootstrap-3.0.3.min.js"></script>
    <script src="../js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script>
    var base_url = '..';
    </script>
    <script data-main="../mkdocs/js/search.js" src="../mkdocs/js/require.js"></script>
    <script src="../js/base.js"></script>

    <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">
                        <span aria-hidden="true">&times;</span>
                        <span class="sr-only">Close</span>
                    </button>
                    <h4 class="modal-title" id="exampleModalLabel">Search</h4>
                </div>
                <div class="modal-body">
                    <p>
                        From here you can search these documents. Enter your search terms below.
                    </p>
                    <form role="form">
                        <div class="form-group">
                            <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                        </div>
                    </form>
                    <div id="mkdocs-search-results"></div>
                </div>
                <div class="modal-footer">
                </div>
            </div>
        </div>
    </div>

    </body>

</html>
